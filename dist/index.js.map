{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport './styles.scss';\n\ninterface GalleryProps {\n  accessToken: string;\n  count: number;\n}\n\nexport const InstagramGallery = (props: GalleryProps) => {\n\n    const [loading, setLoading] = useState<Boolean>(true);\n    const [error, setError] = useState<Boolean>(false);\n    const [instagramData, setInstagramData] = useState<any>(null);\n\n    useEffect(() => {\n        const url = `https://graph.instagram.com/me/media?fields=media_count,media_type,permalink,media_url&&access_token=${props.accessToken}`;\n        fetch(url)\n      .then((response) => {\n        return response.json();\n      })\n      .then(data => {\n          console.log({data});\n          if (data.hasOwnProperty('error')){\n            setLoading(false);\n            setError(true);\n          } else {\n              setInstagramData(data.data);\n              console.log(instagramData);\n              setLoading(false);\n          }\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n        setError(true);\n        setLoading(false);\n      });\n\n    }, []);\n\n    if (loading) {\n      return <div className=\"instagram-gallery\">LOADING...</div>\n    }\n\n    if (error) {\n        return <div className=\"instagram-gallery\">Ruh Roh!. Something went wrong.</div>\n    }\n\n    return (\n        <div className=\"instagram-gallery\">\n\n           {instagramData.slice(0, props.count).map((feed:any, index:any) => (\n            <div key={index} className=\"instagram-item\">\n              <a\n                key={index}\n                href={feed.permalink}\n                className=\"ig-instagram-link\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {(feed.media_type === 'IMAGE'||feed.media_type === 'CAROUSEL_ALBUM')? \n                    <img\n                    className=\"instagram-image\"\n                    key={index}\n                    src={feed.media_url}\n                    alt=\"description\"\n                  />:\n                  // <video className=\"instagram-image\" key={index} src={feed.media_url} type=\"video/mp4\"></video>\n                  <img\n                    className=\"instagram-image\"\n                    key={index}\n                    src={feed.media_url}\n                    alt=\"description\"\n                  />\n                }\n              </a>\n            </div>\n          ))}\n\n        </div>\n    );\n\n}"],"names":["useState","useEffect","React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;IAQa,gBAAgB,GAAG,UAAC,KAAmB;IAE1C,IAAA,KAAwBA,cAAQ,CAAU,IAAI,CAAC,EAA9C,OAAO,QAAA,EAAE,UAAU,QAA2B,CAAC;IAChD,IAAA,KAAoBA,cAAQ,CAAU,KAAK,CAAC,EAA3C,KAAK,QAAA,EAAE,QAAQ,QAA4B,CAAC;IAC7C,IAAA,KAAoCA,cAAQ,CAAM,IAAI,CAAC,EAAtD,aAAa,QAAA,EAAE,gBAAgB,QAAuB,CAAC;IAE9DC,eAAS,CAAC;QACN,IAAM,GAAG,GAAG,0GAAwG,KAAK,CAAC,WAAa,CAAC;QACxI,KAAK,CAAC,GAAG,CAAC;aACX,IAAI,CAAC,UAAC,QAAQ;YACb,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;SACxB,CAAC;aACD,IAAI,CAAC,UAAA,IAAI;YACN,OAAO,CAAC,GAAG,CAAC,EAAC,IAAI,MAAA,EAAC,CAAC,CAAC;YACpB,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAC;gBAC/B,UAAU,CAAC,KAAK,CAAC,CAAC;gBAClB,QAAQ,CAAC,IAAI,CAAC,CAAC;aAChB;iBAAM;gBACH,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC5B,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBAC3B,UAAU,CAAC,KAAK,CAAC,CAAC;aACrB;SACJ,CAAC;aACD,KAAK,CAAC,UAAC,KAAK;YACX,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;YAC/B,QAAQ,CAAC,IAAI,CAAC,CAAC;YACf,UAAU,CAAC,KAAK,CAAC,CAAC;SACnB,CAAC,CAAC;KAEJ,EAAE,EAAE,CAAC,CAAC;IAEP,IAAI,OAAO,EAAE;QACX,OAAOC,iDAAK,SAAS,EAAC,mBAAmB,iBAAiB,CAAA;KAC3D;IAED,IAAI,KAAK,EAAE;QACP,OAAOA,iDAAK,SAAS,EAAC,mBAAmB,sCAAsC,CAAA;KAClF;IAED,QACIA,iDAAK,SAAS,EAAC,mBAAmB,IAE9B,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,UAAC,IAAQ,EAAE,KAAS,IAAK,QACjEA,iDAAK,GAAG,EAAE,KAAK,EAAE,SAAS,EAAC,gBAAgB;QACzCA,+CACE,GAAG,EAAE,KAAK,EACV,IAAI,EAAE,IAAI,CAAC,SAAS,EACpB,SAAS,EAAC,mBAAmB,EAC7B,MAAM,EAAC,QAAQ,EACf,GAAG,EAAC,YAAY,IAEf,CAAC,IAAI,CAAC,UAAU,KAAK,OAAO,IAAE,IAAI,CAAC,UAAU,KAAK,gBAAgB;YAC/DA,iDACA,SAAS,EAAC,iBAAiB,EAC3B,GAAG,EAAE,KAAK,EACV,GAAG,EAAE,IAAI,CAAC,SAAS,EACnB,GAAG,EAAC,aAAa,GACjB;;YAEFA,iDACE,SAAS,EAAC,iBAAiB,EAC3B,GAAG,EAAE,KAAK,EACV,GAAG,EAAE,IAAI,CAAC,SAAS,EACnB,GAAG,EAAC,aAAa,GACjB,CAEF,CACA,IACP,CAAC,CAEE,EACR;AAEN;;;;"}